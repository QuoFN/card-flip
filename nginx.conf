server {
    # ... остальные настройки ...

    # Кэширование изображений и шрифтов
    location ~* \.(jpg|jpeg|png|gif|ico|webp|avif|svg|svgz)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header Vary "Accept-Encoding";
        try_files $uri $uri/ =404;
    }

    # Кэширование CSS и JS
    location ~* \.(css|js)$ {
        expires 6M;
        add_header Cache-Control "public, immutable";
        add_header Vary "Accept-Encoding";
        try_files $uri $uri/ =404;
    }

    # Кэширование шрифтов
    location ~* \.(woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header Access-Control-Allow-Origin "*";
        add_header Vary "Accept-Encoding";
    }

    # HTML - не кэшировать или кэшировать ненадолго
    location ~* \.(html|htm)$ {
        expires 1h;
        add_header Cache-Control "public, must-revalidate";
    }
}